{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///cordova-auth0-plugin.min.js","webpack:///webpack/bootstrap d42a2930bce1e14be79d?c143","webpack:///./src/helper/window.js?c1da","webpack:///./~/url-join/lib/url-join.js?3d0c","webpack:///./src/helper/qs.js?91a0","webpack:///./src/version.js?901f","webpack:///./plugins/cordova/index.js","webpack:///./plugins/cordova/plugin-handler.js","webpack:///./plugins/cordova/popup-handler.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","0","2","global","redirect","url","window","location","getDocument","document","getWindow","3","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","name","context","definition","undefined","normalize","str","options","replace","input","arguments","joined","slice","join","5","build","params","glue","uriEncodedValues","Object","keys","reduce","arr","key","push","encodeURIComponent","parse","qs","split","prev","curr","param","7","raw","33","CordovaPlugin","webAuth","version","extensibilityPoints","windowHandler","PluginHandler","prototype","setWebAuth","supports","extensibilityPoint","_window","cordova","electron","indexOf","init","34","urljoin","PopupHandler","processParams","redirectUri","domain","owp","getPopupHandler","35","_current_popup","preload","_this","popupOptions","width","height","windowFeatures","closed","open","kill","success","close","load","_","cb","href","transientErrorHandler","event","errorHandler","transientStartHandler","startHandler","transientExitHandler","exitHandler","addEventListener","error","errorDescription","message","unhook","removeEventListener","parts","length","opts","hash","pop","nonce","parseHash","result"],"mappings":"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","file":"cordova-auth0-plugin.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cordova-auth0-plugin\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cordova-auth0-plugin\"] = factory();\n\telse\n\t\troot[\"CordovaAuth0Plugin\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cordova-auth0-plugin\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cordova-auth0-plugin\"] = factory();\n\telse\n\t\troot[\"CordovaAuth0Plugin\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(33);\n\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {function redirect(url) {\n\t  global.window.location = url;\n\t}\n\t\n\tfunction getDocument() {\n\t  return global.window.document;\n\t}\n\t\n\tfunction getWindow() {\n\t  return global.window;\n\t}\n\t\n\tmodule.exports = {\n\t  redirect: redirect,\n\t  getDocument: getDocument,\n\t  getWindow: getWindow\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (name, context, definition) {\n\t  if (typeof module !== 'undefined' && module.exports) module.exports = definition();\n\t  else if (true) !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  else context[name] = definition();\n\t})('urljoin', this, function () {\n\t\n\t  function normalize (str, options) {\n\t\n\t    // make sure protocol is followed by two slashes\n\t    str = str.replace(/:\\//g, '://');\n\t\n\t    // remove consecutive slashes\n\t    str = str.replace(/([^:\\s])\\/+/g, '$1/');\n\t\n\t    // remove trailing slash before parameters or hash\n\t    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\t\n\t    // replace ? in parameters with &\n\t    str = str.replace(/(\\?.+)\\?/g, '$1&');\n\t\n\t    return str;\n\t  }\n\t\n\t  return function () {\n\t    var input = arguments;\n\t    var options = {};\n\t\n\t    if (typeof arguments[0] === 'object') {\n\t      // new syntax with array and options\n\t      input = arguments[0];\n\t      options = arguments[1] || {};\n\t    }\n\t\n\t    var joined = [].slice.call(input, 0).join('/');\n\t    return normalize(joined, options);\n\t  };\n\t\n\t});\n\n\n/***/ },\n\n/***/ 5:\n/***/ function(module, exports) {\n\n\tfunction build(params, glue, uriEncodedValues) {\n\t  glue = glue || '&';\n\t  uriEncodedValues = uriEncodedValues !== false;\n\t\n\t  return Object.keys(params).reduce(function (arr, key) {\n\t    if (typeof params[key] !== 'undefined') {\n\t      arr.push(key + '=' + (uriEncodedValues ? encodeURIComponent(params[key]) : params[key]));\n\t    }\n\t    return arr;\n\t  }, []).join(glue);\n\t}\n\t\n\tfunction parse(qs) {\n\t  return qs.split('&').reduce(function (prev, curr) {\n\t    var param = curr.split('=');\n\t    prev[param[0]] = param[1];\n\t    return prev;\n\t  }, {});\n\t}\n\t\n\tmodule.exports = {\n\t  build: build,\n\t  parse: parse\n\t};\n\n\n/***/ },\n\n/***/ 7:\n/***/ function(module, exports) {\n\n\tmodule.exports = { raw: '8.2.0' };\n\n\n/***/ },\n\n/***/ 33:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar version = __webpack_require__(7);\n\tvar windowHandler = __webpack_require__(2);\n\tvar PluginHandler = __webpack_require__(34);\n\t\n\tfunction CordovaPlugin() {\n\t  this.webAuth = null;\n\t  this.version = version.raw;\n\t  this.extensibilityPoints = [\n\t    'popup.authorize',\n\t    'popup.getPopupHandler'\n\t  ];\n\t}\n\t\n\tCordovaPlugin.prototype.setWebAuth = function (webAuth) {\n\t  this.webAuth = webAuth;\n\t};\n\t\n\tCordovaPlugin.prototype.supports = function (extensibilityPoint) {\n\t  var _window = windowHandler.getWindow();\n\t  return (!!_window.cordova || !!_window.electron) &&\n\t          this.extensibilityPoints.indexOf(extensibilityPoint) > -1;\n\t};\n\t\n\tCordovaPlugin.prototype.init = function () {\n\t  return new PluginHandler(this.webAuth);\n\t};\n\t\n\tmodule.exports = CordovaPlugin;\n\n\n/***/ },\n\n/***/ 34:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar urljoin = __webpack_require__(3);\n\tvar PopupHandler = __webpack_require__(35);\n\t\n\tfunction PluginHandler(webAuth) {\n\t  this.webAuth = webAuth;\n\t}\n\t\n\tPluginHandler.prototype.processParams = function (params) {\n\t  params.redirectUri = urljoin('https://' + params.domain, 'mobile');\n\t  delete params.owp;\n\t  return params;\n\t};\n\t\n\tPluginHandler.prototype.getPopupHandler = function () {\n\t  return new PopupHandler(this.webAuth);\n\t};\n\t\n\tmodule.exports = PluginHandler;\n\n\n/***/ },\n\n/***/ 35:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar windowHandler = __webpack_require__(2);\n\tvar qs = __webpack_require__(5);\n\t\n\tfunction PopupHandler(webAuth) {\n\t  this.webAuth = webAuth;\n\t  this._current_popup = null;\n\t  this.options = null;\n\t}\n\t\n\tPopupHandler.prototype.preload = function (options) {\n\t  var _this = this;\n\t  var _window = windowHandler.getWindow();\n\t\n\t  var url = options.url || 'about:blank';\n\t  var popupOptions = options.popupOptions || {};\n\t\n\t  popupOptions.location = 'yes';\n\t  delete popupOptions.width;\n\t  delete popupOptions.height;\n\t\n\t  var windowFeatures = qs.build(popupOptions, ',', false);\n\t\n\t  if (this._current_popup && !this._current_popup.closed) {\n\t    return this._current_popup;\n\t  }\n\t\n\t  this._current_popup = _window.open(url, '_blank', windowFeatures);\n\t\n\t  this._current_popup.kill = function (success) {\n\t    _this._current_popup.success = success;\n\t    this.close();\n\t    _this._current_popup = null;\n\t  };\n\t\n\t  return this._current_popup;\n\t};\n\t\n\tPopupHandler.prototype.load = function (url, _, options, cb) {\n\t  var _this = this;\n\t  this.url = url;\n\t  this.options = options;\n\t  if (!this._current_popup) {\n\t    options.url = url;\n\t    this.preload(options);\n\t  } else {\n\t    this._current_popup.location.href = url;\n\t  }\n\t\n\t  this.transientErrorHandler = function (event) {\n\t    _this.errorHandler(event, cb);\n\t  };\n\t\n\t  this.transientStartHandler = function (event) {\n\t    _this.startHandler(event, cb);\n\t  };\n\t\n\t  this.transientExitHandler = function () {\n\t    _this.exitHandler(cb);\n\t  };\n\t\n\t  this._current_popup.addEventListener('loaderror', this.transientErrorHandler);\n\t  this._current_popup.addEventListener('loadstart', this.transientStartHandler);\n\t  this._current_popup.addEventListener('exit', this.transientExitHandler);\n\t};\n\t\n\tPopupHandler.prototype.errorHandler = function (event, cb) {\n\t  if (!this._current_popup) {\n\t    return;\n\t  }\n\t\n\t  this._current_popup.kill(true);\n\t\n\t  cb({ error: 'window_error', errorDescription: event.message });\n\t};\n\t\n\tPopupHandler.prototype.unhook = function () {\n\t  this._current_popup.removeEventListener('loaderror', this.transientErrorHandler);\n\t  this._current_popup.removeEventListener('loadstart', this.transientStartHandler);\n\t  this._current_popup.removeEventListener('exit', this.transientExitHandler);\n\t};\n\t\n\tPopupHandler.prototype.exitHandler = function (cb) {\n\t  if (!this._current_popup) {\n\t    return;\n\t  }\n\t\n\t  // when the modal is closed, this event is called which ends up removing the\n\t  // event listeners. If you move this before closing the modal, it will add ~1 sec\n\t  // delay between the user being redirected to the callback and the popup gets closed.\n\t  this.unhook();\n\t\n\t  if (!this._current_popup.success) {\n\t    cb({ error: 'window_closed', errorDescription: 'Browser window closed' });\n\t  }\n\t};\n\t\n\tPopupHandler.prototype.startHandler = function (event, cb) {\n\t  var _this = this;\n\t\n\t  if (!this._current_popup) {\n\t    return;\n\t  }\n\t  var parts = event.url.split('#');\n\t\n\t  if (parts.length === 1) {\n\t    return;\n\t  }\n\t\n\t  var opts = { hash: parts.pop() };\n\t\n\t  if (this.options.nonce) {\n\t    opts.nonce = this.options.nonce;\n\t  }\n\t\n\t  _this._current_popup.kill(true);\n\t\n\t  this.webAuth.parseHash(\n\t    opts,\n\t    function (error, result) {\n\t      if (error || result) {\n\t        cb(error, result);\n\t      }\n\t    }\n\t  );\n\t};\n\t\n\tmodule.exports = PopupHandler;\n\n\n/***/ }\n\n/******/ })\n});\n;\n\n\n// WEBPACK FOOTER //\n// cordova-auth0-plugin.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d42a2930bce1e14be79d","function redirect(url) {\n  global.window.location = url;\n}\n\nfunction getDocument() {\n  return global.window.document;\n}\n\nfunction getWindow() {\n  return global.window;\n}\n\nmodule.exports = {\n  redirect: redirect,\n  getDocument: getDocument,\n  getWindow: getWindow\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/helper/window.js\n// module id = 2\n// module chunks = 0 1","(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();\n  else if (typeof define === 'function' && define.amd) define(definition);\n  else context[name] = definition();\n})('urljoin', this, function () {\n\n  function normalize (str, options) {\n\n    // make sure protocol is followed by two slashes\n    str = str.replace(/:\\//g, '://');\n\n    // remove consecutive slashes\n    str = str.replace(/([^:\\s])\\/+/g, '$1/');\n\n    // remove trailing slash before parameters or hash\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n    // replace ? in parameters with &\n    str = str.replace(/(\\?.+)\\?/g, '$1&');\n\n    return str;\n  }\n\n  return function () {\n    var input = arguments;\n    var options = {};\n\n    if (typeof arguments[0] === 'object') {\n      // new syntax with array and options\n      input = arguments[0];\n      options = arguments[1] || {};\n    }\n\n    var joined = [].slice.call(input, 0).join('/');\n    return normalize(joined, options);\n  };\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/url-join/lib/url-join.js\n// module id = 3\n// module chunks = 0 1","function build(params, glue, uriEncodedValues) {\n  glue = glue || '&';\n  uriEncodedValues = uriEncodedValues !== false;\n\n  return Object.keys(params).reduce(function (arr, key) {\n    if (typeof params[key] !== 'undefined') {\n      arr.push(key + '=' + (uriEncodedValues ? encodeURIComponent(params[key]) : params[key]));\n    }\n    return arr;\n  }, []).join(glue);\n}\n\nfunction parse(qs) {\n  return qs.split('&').reduce(function (prev, curr) {\n    var param = curr.split('=');\n    prev[param[0]] = param[1];\n    return prev;\n  }, {});\n}\n\nmodule.exports = {\n  build: build,\n  parse: parse\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/helper/qs.js\n// module id = 5\n// module chunks = 0 1","module.exports = { raw: '8.2.0' };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/version.js\n// module id = 7\n// module chunks = 0 1","var version = require('../../src/version');\nvar windowHandler = require('../../src/helper/window');\nvar PluginHandler = require('./plugin-handler');\n\nfunction CordovaPlugin() {\n  this.webAuth = null;\n  this.version = version.raw;\n  this.extensibilityPoints = [\n    'popup.authorize',\n    'popup.getPopupHandler'\n  ];\n}\n\nCordovaPlugin.prototype.setWebAuth = function (webAuth) {\n  this.webAuth = webAuth;\n};\n\nCordovaPlugin.prototype.supports = function (extensibilityPoint) {\n  var _window = windowHandler.getWindow();\n  return (!!_window.cordova || !!_window.electron) &&\n          this.extensibilityPoints.indexOf(extensibilityPoint) > -1;\n};\n\nCordovaPlugin.prototype.init = function () {\n  return new PluginHandler(this.webAuth);\n};\n\nmodule.exports = CordovaPlugin;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./plugins/cordova/index.js\n// module id = 33\n// module chunks = 1","var urljoin = require('url-join');\nvar PopupHandler = require('./popup-handler');\n\nfunction PluginHandler(webAuth) {\n  this.webAuth = webAuth;\n}\n\nPluginHandler.prototype.processParams = function (params) {\n  params.redirectUri = urljoin('https://' + params.domain, 'mobile');\n  delete params.owp;\n  return params;\n};\n\nPluginHandler.prototype.getPopupHandler = function () {\n  return new PopupHandler(this.webAuth);\n};\n\nmodule.exports = PluginHandler;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./plugins/cordova/plugin-handler.js\n// module id = 34\n// module chunks = 1","var windowHandler = require('../../src/helper/window');\nvar qs = require('../../src/helper/qs');\n\nfunction PopupHandler(webAuth) {\n  this.webAuth = webAuth;\n  this._current_popup = null;\n  this.options = null;\n}\n\nPopupHandler.prototype.preload = function (options) {\n  var _this = this;\n  var _window = windowHandler.getWindow();\n\n  var url = options.url || 'about:blank';\n  var popupOptions = options.popupOptions || {};\n\n  popupOptions.location = 'yes';\n  delete popupOptions.width;\n  delete popupOptions.height;\n\n  var windowFeatures = qs.build(popupOptions, ',', false);\n\n  if (this._current_popup && !this._current_popup.closed) {\n    return this._current_popup;\n  }\n\n  this._current_popup = _window.open(url, '_blank', windowFeatures);\n\n  this._current_popup.kill = function (success) {\n    _this._current_popup.success = success;\n    this.close();\n    _this._current_popup = null;\n  };\n\n  return this._current_popup;\n};\n\nPopupHandler.prototype.load = function (url, _, options, cb) {\n  var _this = this;\n  this.url = url;\n  this.options = options;\n  if (!this._current_popup) {\n    options.url = url;\n    this.preload(options);\n  } else {\n    this._current_popup.location.href = url;\n  }\n\n  this.transientErrorHandler = function (event) {\n    _this.errorHandler(event, cb);\n  };\n\n  this.transientStartHandler = function (event) {\n    _this.startHandler(event, cb);\n  };\n\n  this.transientExitHandler = function () {\n    _this.exitHandler(cb);\n  };\n\n  this._current_popup.addEventListener('loaderror', this.transientErrorHandler);\n  this._current_popup.addEventListener('loadstart', this.transientStartHandler);\n  this._current_popup.addEventListener('exit', this.transientExitHandler);\n};\n\nPopupHandler.prototype.errorHandler = function (event, cb) {\n  if (!this._current_popup) {\n    return;\n  }\n\n  this._current_popup.kill(true);\n\n  cb({ error: 'window_error', errorDescription: event.message });\n};\n\nPopupHandler.prototype.unhook = function () {\n  this._current_popup.removeEventListener('loaderror', this.transientErrorHandler);\n  this._current_popup.removeEventListener('loadstart', this.transientStartHandler);\n  this._current_popup.removeEventListener('exit', this.transientExitHandler);\n};\n\nPopupHandler.prototype.exitHandler = function (cb) {\n  if (!this._current_popup) {\n    return;\n  }\n\n  // when the modal is closed, this event is called which ends up removing the\n  // event listeners. If you move this before closing the modal, it will add ~1 sec\n  // delay between the user being redirected to the callback and the popup gets closed.\n  this.unhook();\n\n  if (!this._current_popup.success) {\n    cb({ error: 'window_closed', errorDescription: 'Browser window closed' });\n  }\n};\n\nPopupHandler.prototype.startHandler = function (event, cb) {\n  var _this = this;\n\n  if (!this._current_popup) {\n    return;\n  }\n  var parts = event.url.split('#');\n\n  if (parts.length === 1) {\n    return;\n  }\n\n  var opts = { hash: parts.pop() };\n\n  if (this.options.nonce) {\n    opts.nonce = this.options.nonce;\n  }\n\n  _this._current_popup.kill(true);\n\n  this.webAuth.parseHash(\n    opts,\n    function (error, result) {\n      if (error || result) {\n        cb(error, result);\n      }\n    }\n  );\n};\n\nmodule.exports = PopupHandler;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./plugins/cordova/popup-handler.js\n// module id = 35\n// module chunks = 1"],"sourceRoot":""}